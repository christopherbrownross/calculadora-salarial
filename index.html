<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Salarial Colombia 2025</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.css">
    
    <!-- React 18 -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        :root {
            --bs-primary: #1a1a1a;
            --bs-secondary: #2d2d2d;
            --bs-success: #28a745;
            --bs-danger: #dc3545;
            --bs-dark: #121212;
            --bs-light: #f8f9fa;
        }

        body {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            color: #e0e0e0;
        }

        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 15px;
        }

        .header-card {
            background: linear-gradient(135deg, #2d2d2d 0%, #3a3a3a 100%);
            color: #e0e0e0;
            border: 1px solid #404040;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .market-badge {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            color: #e0e0e0;
        }

        .form-control {
            border: 1px solid #404040;
            border-radius: 6px;
            padding: 8px 12px;
            transition: all 0.3s ease;
            background: #2d2d2d;
            color: #e0e0e0;
            font-size: 0.9rem;
        }

        .form-control:focus {
            border-color: #666;
            box-shadow: 0 0 0 0.2rem rgba(102, 102, 102, 0.25);
            background: #3a3a3a;
            color: #e0e0e0;
        }

        .section-card {
            border: 1px solid #404040;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            margin-bottom: 15px;
            background: #2d2d2d;
        }

        .card-header {
            background: #3a3a3a !important;
            border-bottom: 1px solid #404040;
            padding: 12px 20px;
        }

        .card-body {
            padding: 15px 20px;
        }

        .section-title {
            color: #e0e0e0;
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .result-card {
            border: none;
            border-radius: 4px;
            transition: transform 0.2s ease;
            margin-bottom: 4px;
            padding: 6px 10px !important;
            background: #2a2a2a;
            border-left: 2px solid #555;
        }

        .result-card:hover {
            transform: translateY(-1px);
            background: #2f2f2f;
        }

        .result-positive {
            background: #2a2a2a;
            border-left: 2px solid #666;
        }

        .result-negative {
            background: #2a2a2a;
            border-left: 2px solid #666;
        }

        .result-neutral {
            background: #2a2a2a;
            border-left: 2px solid #666;
        }

        .result-final {
            background: #2f2f2f;
            border-left: 3px solid #888;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .result-value {
            font-size: 0.9rem;
            font-weight: 600;
            margin: 0;
            color: #e0e0e0;
        }

        .result-label {
            font-size: 0.7rem;
            color: #a0a0a0;
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 0.3px;
            font-weight: 400;
        }

        .market-value {
            font-size: 1rem;
            font-weight: 600;
        }

        .market-label {
            font-size: 0.75rem;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-primary {
            background: #404040;
            border-color: #404040;
            border-radius: 6px;
            padding: 8px 16px;
            font-weight: 500;
            color: #e0e0e0;
        }

        .btn-primary:hover {
            background: #555;
            border-color: #555;
        }

        .form-check-input:checked {
            background-color: #666;
            border-color: #666;
        }

        .input-group-text {
            background: #3a3a3a;
            border: 1px solid #404040;
            border-right: none;
            color: #b0b0b0;
            font-weight: 500;
        }

        .form-control.with-prefix {
            border-left: none;
        }

        .form-label {
            color: #b0b0b0;
            font-size: 0.85rem;
            font-weight: 500;
            margin-bottom: 5px;
        }

        .form-check-label {
            color: #e0e0e0;
            font-size: 0.9rem;
        }

        .text-success {
            color: #e0e0e0 !important;
        }

        .text-danger {
            color: #e0e0e0 !important;
        }

        .compact-results {
            max-height: 90vh;
            overflow-y: auto;
            padding: 8px;
        }

        .compact-results::-webkit-scrollbar {
            width: 4px;
        }

        .compact-results::-webkit-scrollbar-track {
            background: #2d2d2d;
        }

        .compact-results::-webkit-scrollbar-thumb {
            background: #555;
            border-radius: 2px;
        }

        /* Ocultar flechas de inputs num√©ricos */
        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        input[type="number"] {
            -moz-appearance: textfield;
        }

        .net-salary-card {
            background: #2f2f2f;
            border: 2px solid #555;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            margin-top: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .net-salary-label {
            font-size: 0.9rem;
            color: #a0a0a0;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .net-salary-value {
            font-size: 2rem;
            font-weight: 800;
            color: #ffffff;
            margin: 0;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        /* Estilos para altura uniforme y efectos hover de tabs */
        .tab-collapsed {
            min-height: 60px !important;
            transition: all 0.3s ease;
            border-radius: 16px !important;
            overflow: hidden;
            border: 1px solid transparent !important;
            margin-bottom: 15px;
            text-align: center;
            background: rgba(30, 30, 30, 0.7) !important;
            backdrop-filter: blur(10px);
            max-width: 90%;
            margin-left: auto;
            margin-right: auto;
        }
        
        .tab-collapsed .card-header {
            border-bottom: none !important;
            padding: 12px 15px;
            background: transparent;
        }
        
        .tab-collapsed:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }
        
        .tab-collapsed.salary-tab {
            border: 1px solid #dc3545 !important;
        }
        
        .tab-collapsed.seguros-tab {
            border: 1px solid #4CAF50 !important;
        }
        
        .tab-collapsed.bonuses-tab {
            border: 1px solid #FF9800 !important;
        }
        
        .tab-collapsed.stocks-tab {
            border: 1px solid #2196F3 !important;
        }
        
        .tab-collapsed.salary-tab:hover {
            border: 2px solid #dc3545 !important;
            box-shadow: 0 5px 15px rgba(220, 53, 69, 0.3);
        }
        
        .tab-collapsed.seguros-tab:hover {
            border: 2px solid #4CAF50 !important;
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }
        
        .tab-collapsed.bonuses-tab:hover {
            border: 2px solid #FF9800 !important;
            box-shadow: 0 5px 15px rgba(255, 152, 0, 0.3);
        }
        
        .tab-collapsed.stocks-tab:hover {
            border: 2px solid #2196F3 !important;
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.3);
        }
        
        /* Header de tabs con altura uniforme */
        .tab-header {
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        @media (max-width: 768px) {
            .main-container {
                padding: 8px;
            }
            .result-card {
                padding: 4px 8px !important;
                margin-bottom: 3px;
            }
            .result-value {
                font-size: 0.8rem;
            }
            .result-label {
                font-size: 0.65rem;
            }
            .compact-results {
                padding: 4px;
            }
            .net-salary-card {
                padding: 15px;
                margin-top: 10px;
            }
            .net-salary-value {
                font-size: 1.5rem;
            }
            .net-salary-label {
                font-size: 0.8rem;
            }
            .tab-collapsed {
                min-height: 70px !important;
            }
            .tab-header {
                min-height: 70px;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Hook para datos financieros reales de TWLO usando APIs m√°s confiables
        function useFinancialData() {
            const [stockPrice, setStockPrice] = useState(130.92); // Precio inicial de TWLO
            const [exchangeRate, setExchangeRate] = useState(4285); // Tasa inicial USD/COP
            const [lastUpdate, setLastUpdate] = useState(new Date());

            useEffect(() => {
                const fetchRealData = async () => {
                    try {
                        // Obtener precio de TWLO desde Yahoo Finance
                        const twloResponse = await fetch('https://query1.finance.yahoo.com/v8/finance/chart/TWLO');
                        if (twloResponse.ok) {
                            const twloData = await twloResponse.json();
                            if (twloData.chart && twloData.chart.result && twloData.chart.result[0]) {
                                const result = twloData.chart.result[0];
                                if (result.meta && result.meta.regularMarketPrice) {
                                    setStockPrice(result.meta.regularMarketPrice);
                                    console.log('TWLO precio actualizado:', result.meta.regularMarketPrice);
                                }
                            }
                        }
                    } catch (error) {
                        console.log('Error obteniendo precio TWLO, usando valor anterior:', error);
                    }

                    try {
                        // Obtener tasa USD/COP desde ExchangeRate-API (m√°s confiable)
                        const exchangeResponse = await fetch('https://api.exchangerate-api.com/v4/latest/USD');
                        if (exchangeResponse.ok) {
                            const exchangeData = await exchangeResponse.json();
                            if (exchangeData.rates && exchangeData.rates.COP) {
                                setExchangeRate(exchangeData.rates.COP);
                                // USD/COP actualizado
                            }
                        }
                    } catch (error) {
                        // Error obteniendo USD/COP, usando valor anterior
                    }

                    setLastUpdate(new Date());
                };

                // Obtener datos reales cada 60 segundos (menos frecuente para ser m√°s estable)
                fetchRealData();
                const realDataInterval = setInterval(fetchRealData, 60000);

                return () => {
                    clearInterval(realDataInterval);
                };
            }, []);

            return { stockPrice, exchangeRate, lastUpdate };
        }

        function SalaryCalculator() {
            // Estados para datos financieros
            const { stockPrice, exchangeRate, lastUpdate } = useFinancialData();
            
            // Estados para configuraci√≥n salarial (valores exactos del comprobante)
            const [salarioBase, setSalarioBase] = useState(14015043);
            const [tarjetaAlimentacion, setTarjetaAlimentacion] = useState(938000);
            const [monthlyRemote, setMonthlyRemote] = useState(206710);
            const [monthlyConnect, setMonthlyConnect] = useState(275570);
            const [teamLunchUSD, setTeamLunchUSD] = useState(25);
            const [medicinaPrepagada, setMedicinaPrepagada] = useState(367616);
            const [seguroVida, setSeguroVida] = useState(50454);
            const [accionesTrimestre, setAccionesTrimestre] = useState(111); // Del comprobante
            const [esppPercentage, setEsppPercentage] = useState(15);
            // Nuevos campos para primas y cesant√≠as
            const [prima, setPrima] = useState(1167920);
            const [primaExtra, setPrimaExtra] = useState(1401504); // Este valor ya no se usa directamente
            const [primaExtraPercentage, setPrimaExtraPercentage] = useState(10); // 10% por defecto
            const [interesesCesantias, setInteresesCesantias] = useState(140150);
            const [useManualValues, setUseManualValues] = useState(false);
            const [manualStockPrice, setManualStockPrice] = useState(stockPrice);
            const [manualExchangeRate, setManualExchangeRate] = useState(exchangeRate);
            
            // Estados para colapso de secciones
            const [showSalaryConfig, setShowSalaryConfig] = useState(true);
            const [showInsurance, setShowInsurance] = useState(true);
            const [showBonuses, setShowBonuses] = useState(true);
            const [showStocks, setShowStocks] = useState(true);
            const [showResults, setShowResults] = useState(false); // Colapsado por defecto

            // Actualizar valores manuales cuando cambien los autom√°ticos
            useEffect(() => {
                if (!useManualValues) {
                    setManualStockPrice(stockPrice);
                    setManualExchangeRate(exchangeRate);
                }
            }, [stockPrice, exchangeRate, useManualValues]);
            
            // Inicializar con valores por defecto
            useEffect(() => {
                // Inicializaci√≥n b√°sica si es necesario
                setUseManualValues(false);
            }, []);

            // Valores efectivos (usando manuales o autom√°ticos seg√∫n la configuraci√≥n)
            const effectiveStockPrice = useManualValues ? manualStockPrice : stockPrice;
            const effectiveExchangeRate = useManualValues ? manualExchangeRate : exchangeRate;

            // Constantes legislaci√≥n colombiana 2025
            const SMMLV_2025 = 1423500;
            const UVT_2025 = 49799;
            const LIMITE_EXENCION_ALIMENTACION = 938000; // Valor fijo seg√∫n normativa
            const LIMITE_DEDUCCION_40_MENSUAL = (790 * UVT_2025) / 12; // 790 UVT anuales / 12

            // C√°lculos principales
            // Team Lunch: valor en USD convertido a COP
            const teamLunchCOP = teamLunchUSD * effectiveExchangeRate;
            
            // Compensaciones totales incluyen: salario base y todos los auxilios
            // Estos son: tarjeta de alimentaci√≥n, auxilio de conectividad, auxilio de trabajo remoto y auxilio de almuerzo
            const compensacionesTotales = salarioBase + tarjetaAlimentacion + monthlyRemote + monthlyConnect + teamLunchCOP;
            
            // RSUs mensuales: valor de las acciones trimestrales dividido entre 3 meses
            // Se calculan como: (n√∫mero de acciones * precio de la acci√≥n * tasa de cambio) / 3
            const rsusMensuales = (accionesTrimestre * effectiveStockPrice * effectiveExchangeRate) / 3;
            
            // ESPP (Employee Stock Purchase Plan)
            // Ahorro mensual: porcentaje del salario base destinado a compra de acciones
            const esppAhorroMensual = esppPercentage > 0 ? (salarioBase * esppPercentage / 100) : 0;
            // Beneficio mensual: 15% de descuento sobre el ahorro (ingreso adicional)
            const esppBeneficioMensual = esppPercentage > 0 ? (esppAhorroMensual * 0.15) : 0;

            // C√°lculos autom√°ticos de primas y cesant√≠as
            // Prima legal: 1 salario mensual al a√±o, dividido en 12 meses (8.33% mensual)
            const primaCalculada = salarioBase * 0.0833; // Prima legal: equivalente a 1 salario mensual al a√±o / 12 meses
            
            // Prima extra: calculada como porcentaje del salario base anualizado
            // Simplificando: (salario_base * porcentaje / 100)
            const primaExtraCalculada = (salarioBase * primaExtraPercentage / 100);
            
            // Intereses de cesant√≠as: 12% anual sobre las cesant√≠as acumuladas (1% mensual)
            const interesesCesantiasCalculados = salarioBase * 0.01; // Intereses cesant√≠as: 1% mensual sobre el salario base

            // Ingresos totales (incluyendo todos los conceptos: salario, auxilios, primas y cesant√≠as)
            // Sumamos todos los componentes del salario para obtener el ingreso bruto total
            // NOTA: El esppAhorroMensual no debe sumarse como ingreso ya que es un ahorro (descuento) del empleado
            const ingresosTotales = salarioBase + tarjetaAlimentacion + monthlyRemote + monthlyConnect + 
                teamLunchCOP + rsusMensuales + esppBeneficioMensual + primaCalculada + 
                primaExtraCalculada + interesesCesantiasCalculados;

            // Aplicar legislaci√≥n colombiana 2025 correctamente
            // L√≠mite de exenci√≥n para auxilio de alimentaci√≥n
            const maxExentoAlimentacion = Math.min(tarjetaAlimentacion, LIMITE_EXENCION_ALIMENTACION);
            
            // Medicina prepagada y seguro de vida son deducibles hasta 16 UVT mensuales
            // Seg√∫n Art. 387 del Estatuto Tributario y Ley 2277 de 2022
            const LIMITE_MEDICINA_SEGURO_MENSUAL = (16 * UVT_2025) / 12; // 16 UVT anuales / 12
            const deducibleMedicinaSeguro = Math.min(medicinaPrepagada + seguroVida, LIMITE_MEDICINA_SEGURO_MENSUAL);

            // Ingresos gravables para retenci√≥n (salario base + RSUs + beneficios gravables + primas)
            // Seg√∫n legislaci√≥n colombiana, algunos auxilios son no constitutivos de salario y est√°n exentos hasta ciertos l√≠mites
            const ingresosBrutos = salarioBase + 
                Math.max(0, tarjetaAlimentacion - maxExentoAlimentacion) + 
                // monthlyRemote y monthlyConnect son auxilios no constitutivos de salario (exentos)
                // teamLunchCOP es un auxilio de alimentaci√≥n (ya considerado en tarjetaAlimentacion)
                rsusMensuales + esppBeneficioMensual +
                primaCalculada + primaExtraCalculada + interesesCesantiasCalculados;
            
            // Aplicar deducci√≥n del 40% con l√≠mite de 790 UVT anuales (65.83 UVT mensuales)
            // Esta deducci√≥n se aplica sobre ingresos laborales (salario + RSUs + primas)
            const deduccion40Calculada = ingresosBrutos * 0.4;
            const deduccion40Aplicada = Math.min(deduccion40Calculada, LIMITE_DEDUCCION_40_MENSUAL);
            // La renta gravable se calcula restando la deducci√≥n del 40% y los gastos deducibles (medicina prepagada y seguro)
            const rentaGravable = Math.max(0, ingresosBrutos - deduccion40Aplicada - deducibleMedicinaSeguro);

            // Deducciones obligatorias
            // Salud y pensi√≥n tienen un l√≠mite de 25 SMMLV seg√∫n legislaci√≥n colombiana
            const limiteSaludPension = 25 * SMMLV_2025;
            const saludEmpleado = Math.min(salarioBase, limiteSaludPension) * 0.04;
            const pensionEmpleado = Math.min(salarioBase, limiteSaludPension) * 0.04;
            
            // Fondo de Solidaridad Pensional progresivo seg√∫n legislaci√≥n 2025
            // Se aplica a salarios superiores a 4 SMMLV con escala progresiva
            // La base para el c√°lculo es el salario base, con un l√≠mite de 25 SMMLV
            let fondoSolidaridad = 0;
            const salarioLimitado = Math.min(salarioBase, limiteSaludPension); // Mismo l√≠mite que para salud y pensi√≥n (25 SMMLV)
            const salarioEnSMMLV = salarioBase / SMMLV_2025;
            
            // Aplicaci√≥n de la tabla progresiva seg√∫n legislaci√≥n colombiana
            // Seg√∫n Ley 100 de 1993, Art. 135 y sus modificaciones
            if (salarioEnSMMLV > 4) {
                if (salarioEnSMMLV <= 16) {
                    fondoSolidaridad = salarioLimitado * 0.01; // 1% para salarios entre 4 y 16 SMMLV
                } else if (salarioEnSMMLV <= 17) {
                    fondoSolidaridad = salarioLimitado * 0.012; // 1.2% para salarios entre 16 y 17 SMMLV
                } else if (salarioEnSMMLV <= 18) {
                    fondoSolidaridad = salarioLimitado * 0.014; // 1.4% para salarios entre 17 y 18 SMMLV
                } else if (salarioEnSMMLV <= 19) {
                    fondoSolidaridad = salarioLimitado * 0.016; // 1.6% para salarios entre 18 y 19 SMMLV
                } else if (salarioEnSMMLV <= 20) {
                    fondoSolidaridad = salarioLimitado * 0.018; // 1.8% para salarios entre 19 y 20 SMMLV
                } else {
                    fondoSolidaridad = salarioLimitado * 0.02; // 2% para salarios superiores a 20 SMMLV
                }
            }

            // Retenci√≥n en la fuente (tabla UVT 2025)
            // Se calcula sobre la renta gravable anualizada, aplicando la tabla progresiva
            let retencionFuente = 0;
            const rentaGravableAnual = rentaGravable * 12;
            const rentaGravableUVT = rentaGravableAnual / UVT_2025;
            
            // Aplicaci√≥n de la tabla progresiva seg√∫n legislaci√≥n colombiana
            if (rentaGravableUVT > 95) {
                if (rentaGravableUVT <= 150) {
                    // Primer tramo: 19% sobre el excedente de 95 UVT
                    retencionFuente = ((rentaGravableAnual - (95 * UVT_2025)) * 0.19) / 12;
                } else if (rentaGravableUVT <= 360) {
                    // Primer tramo: 19% sobre 55 UVT (150-95)
                    const tramo1 = (55 * UVT_2025 * 0.19);
                    // Segundo tramo: 28% sobre el excedente de 150 UVT
                    const tramo2 = (rentaGravableAnual - (150 * UVT_2025)) * 0.28;
                    retencionFuente = (tramo1 + tramo2) / 12;
                } else {
                    // Primer tramo: 19% sobre 55 UVT (150-95)
                    const tramo1 = (55 * UVT_2025 * 0.19);
                    // Segundo tramo: 28% sobre 210 UVT (360-150)
                    const tramo2 = (210 * UVT_2025 * 0.28);
                    // Tercer tramo: 33% sobre el excedente de 360 UVT
                    const tramo3 = (rentaGravableAnual - (360 * UVT_2025)) * 0.33;
                    retencionFuente = (tramo1 + tramo2 + tramo3) / 12;
                }
            }

            // Total deducciones obligatorias (salud, pensi√≥n, fondo de solidaridad y retenci√≥n)
            const totalDeducciones = saludEmpleado + pensionEmpleado + fondoSolidaridad + retencionFuente;
            
            // Salario neto = Ingresos totales - Deducciones obligatorias
            // Ingresos totales incluyen: salario base, auxilios, RSUs, beneficios ESPP, primas y cesant√≠as
            const salarioNeto = ingresosTotales - totalDeducciones;

            // Funci√≥n para formatear moneda
            const formatCurrency = (amount, currency = 'COP') => {
                if (currency === 'USD') {
                    return new Intl.NumberFormat('en-US', {
                        style: 'currency',
                        currency: 'USD',
                        minimumFractionDigits: 2
                    }).format(amount);
                }
                return new Intl.NumberFormat('es-CO', {
                    style: 'currency',
                    currency: 'COP',
                    minimumFractionDigits: 0
                }).format(amount);
            };

            // Funci√≥n para formatear n√∫meros en inputs
            const formatNumberInput = (value) => {
                return new Intl.NumberFormat('es-CO').format(value);
            };

            // Funci√≥n para parsear n√∫meros de inputs
            const parseNumberInput = (value) => {
                return parseInt(value.replace(/\./g, '')) || 0;
            };

            return (
                <div className="main-container" style={{
                    display: 'flex',
                    flexDirection: 'column',
                    alignItems: 'center',
                    width: '100%',
                    maxWidth: '100%'
                }}>
                    {/* Header Mejorado */}
                    <div className="card header-card mb-4" style={{
                        background: 'linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%)', 
                        border: 'none',
                        borderRadius: '12px',
                        boxShadow: '0 8px 32px rgba(0, 0, 0, 0.3)',
                        width: '100%'
                    }}>
                        <div className="card-body py-4 px-4">
                            {/* T√≠tulo Principal */}
                            <div className="text-center mb-4">
                                <h1 className="card-title mb-2" style={{
                                    fontSize: '2rem', 
                                    fontWeight: '700',
                                    color: '#fff',
                                    textShadow: '0 2px 4px rgba(0, 0, 0, 0.3)'
                                }}>
                                    <i className="bi bi-calculator me-3" style={{color: '#fff', fontSize: '1.8rem'}}></i>
                                    üí∞ Calculadora Salarial 2025
                                </h1>
                                <p className="text-muted mb-0" style={{fontSize: '0.9rem'}}>
                                    C√°lculo preciso con legislaci√≥n colombiana actualizada
                                </p>
                            </div>
                            
                            {/* Datos de Mercado */}
                            <div className="row g-3 align-items-center justify-content-center mb-3">
                                <div className="col-auto">
                                    <div className="d-flex align-items-center gap-2">
                                        <span className="badge bg-primary px-3 py-2" style={{fontSize: '0.85rem', borderRadius: '8px'}}>
                                            üìà TWLO: {formatCurrency(effectiveStockPrice, 'USD')}
                                        </span>
                                    </div>
                                </div>
                                <div className="col-auto">
                                    <div className="d-flex align-items-center gap-2">
                                        <span className="badge bg-success px-3 py-2" style={{fontSize: '0.85rem', borderRadius: '8px'}}>
                                            üí± USD/COP: {formatCurrency(effectiveExchangeRate, 'COP')}
                                        </span>
                                    </div>
                                </div>
                                <div className="col-auto">
                                    <div className="d-flex align-items-center gap-2">
                                        <span className="badge bg-info px-3 py-2" style={{fontSize: '0.85rem', borderRadius: '8px'}}>
                                            üïí {lastUpdate.toLocaleTimeString('es-CO', {hour: '2-digit', minute: '2-digit'})}
                                        </span>
                                    </div>
                                </div>
                                <div className="col-auto">
                                    <div className="form-check form-switch mb-0 d-flex align-items-center gap-2">
                                        <input 
                                            className="form-check-input" 
                                            type="checkbox" 
                                            id="manualToggle"
                                            checked={useManualValues}
                                            onChange={(e) => setUseManualValues(e.target.checked)}
                                            style={{transform: 'scale(1.2)'}}
                                        />
                                        <label className="form-check-label fw-medium" htmlFor="manualToggle" style={{fontSize: '0.9rem'}}>
                                            ‚öôÔ∏è Valores Manuales
                                        </label>
                                    </div>
                                </div>
                            </div>

                            {/* Inputs Manuales */}
                            {useManualValues && (
                                <div className="alert alert-info mb-3" style={{
                                    background: 'linear-gradient(135deg, rgba(13, 202, 240, 0.1) 0%, rgba(13, 202, 240, 0.05) 100%)',
                                    border: '1px solid rgba(13, 202, 240, 0.3)',
                                    borderRadius: '12px'
                                }}>
                                    <div className="d-flex align-items-center mb-2">
                                        <i className="bi bi-info-circle me-2" style={{color: '#0dcaf0'}}></i>
                                        <strong style={{color: '#0dcaf0'}}>Modo Manual Activado</strong>
                                    </div>
                                    <small style={{color: '#e0e0e0'}}>
                                        Los siguientes valores se est√°n ingresando manualmente y no se actualizar√°n autom√°ticamente.
                                    </small>
                                </div>
                            )}
                            {useManualValues && (
                                <div className="row g-3 justify-content-center mt-2" style={{background: 'linear-gradient(135deg, rgba(13, 202, 240, 0.05) 0%, rgba(13, 202, 240, 0.02) 100%)', padding: '15px 10px', borderRadius: '12px', marginBottom: '15px'}}>
                                    <div className="col-md-6 col-6">
                                        <label className="form-label text-light small fw-medium">
                                            <i className="bi bi-pencil-square me-1" style={{color: '#0dcaf0'}}></i>
                                            Precio TWLO (Manual)
                                        </label>
                                        <div className="input-group">
                                            <span className="input-group-text" style={{background: '#1a1a1a', border: '1px solid #0dcaf0', color: '#e0e0e0', borderRadius: '8px 0 0 8px'}}>$</span>
                                            <input
                                                type="number"
                                                className="form-control"
                                                placeholder="130.92"
                                                step="0.01"
                                                value={manualStockPrice}
                                                onChange={(e) => setManualStockPrice(parseFloat(e.target.value) || 0)}
                                                style={{background: '#1a1a1a', border: '1px solid #0dcaf0', color: '#e0e0e0', borderRight: 'none'}}
                                            />
                                            <span className="input-group-text" style={{background: '#1a1a1a', border: '1px solid #0dcaf0', color: '#a0a0a0', borderRadius: '0 8px 8px 0', fontSize: '0.8rem'}}>USD</span>
                                        </div>
                                    </div>
                                    <div className="col-md-6 col-6">
                                        <label className="form-label text-light small fw-medium">
                                            <i className="bi bi-pencil-square me-1" style={{color: '#0dcaf0'}}></i>
                                            Tasa USD/COP (Manual)
                                        </label>
                                        <div className="input-group">
                                            <span className="input-group-text" style={{background: '#1a1a1a', border: '1px solid #0dcaf0', color: '#e0e0e0', borderRadius: '8px 0 0 8px'}}>$</span>
                                            <input
                                                type="text"
                                                className="form-control"
                                                placeholder="4.285"
                                                value={formatNumberInput(manualExchangeRate)}
                                                onChange={(e) => setManualExchangeRate(parseNumberInput(e.target.value))}
                                                style={{background: '#1a1a1a', border: '1px solid #0dcaf0', color: '#e0e0e0', borderRight: 'none'}}
                                            />
                                            <span className="input-group-text" style={{background: '#1a1a1a', border: '1px solid #0dcaf0', color: '#a0a0a0', borderRadius: '0 8px 8px 0', fontSize: '0.8rem'}}>COP</span>
                                        </div>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>

                    <div className="row g-4" style={{width: '100%', display: 'flex', justifyContent: 'center'}}>
                        <div className="col-lg-8 col-md-10 col-12" style={{display: 'flex', flexDirection: 'column', alignItems: 'center'}}>
                            {/* Configuraci√≥n Salarial */}
                            <div className="card section-card mb-4" style={{borderRadius: '12px', boxShadow: '0 4px 16px rgba(0, 0, 0, 0.2)', width: '100%', maxWidth: '100%'}}>
                                <div 
                                    className="card-header d-flex justify-content-between align-items-center py-3" 
                                    style={{
                                        cursor: 'pointer',
                                        borderRadius: '12px 12px 0 0',
                                        background: 'linear-gradient(135deg, #2a2a2a 0%, #3a3a3a 100%)'
                                    }}
                                    onClick={() => setShowSalaryConfig(!showSalaryConfig)}
                                >
                                    <h2 className="section-title mb-0 d-flex align-items-center gap-2" style={{fontSize: '1.1rem', fontWeight: '600'}}>
                                        <i className="bi bi-briefcase text-primary"></i>
                                        Configuraci√≥n Salarial
                                    </h2>
                                    <i className={`bi bi-chevron-${showSalaryConfig ? 'up' : 'down'} text-muted`} style={{fontSize: '1.2rem'}}></i>
                                </div>
                                {showSalaryConfig && (
                                    <div className="card-body p-4">
                                        <div className="row g-3">
                                            <div className="col-md-6">
                                                <label className="form-label fw-medium text-light">Salario Base</label>
                                                <div className="input-group">
                                                    <span className="input-group-text bg-dark border-secondary text-light">$</span>
                                                    <input
                                                        type="text"
                                                        className="form-control bg-dark border-secondary text-light"
                                                        value={formatNumberInput(salarioBase)}
                                                        onChange={(e) => setSalarioBase(parseNumberInput(e.target.value))}
                                                        style={{borderRadius: '0 8px 8px 0'}}
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-6">
                                                <label className="form-label fw-medium text-light">Tarjeta Alimentaci√≥n</label>
                                                <div className="input-group">
                                                    <span className="input-group-text bg-dark border-secondary text-light">$</span>
                                                    <input
                                                        type="text"
                                                        className="form-control bg-dark border-secondary text-light"
                                                        value={formatNumberInput(tarjetaAlimentacion)}
                                                        onChange={(e) => setTarjetaAlimentacion(parseNumberInput(e.target.value))}
                                                        style={{borderRadius: '0 8px 8px 0'}}
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <label className="form-label fw-medium text-light">Monthly Remote</label>
                                                <div className="input-group">
                                                    <span className="input-group-text bg-dark border-secondary text-light">$</span>
                                                    <input
                                                        type="text"
                                                        className="form-control bg-dark border-secondary text-light"
                                                        value={formatNumberInput(monthlyRemote)}
                                                        onChange={(e) => setMonthlyRemote(parseNumberInput(e.target.value))}
                                                        style={{borderRadius: '0 8px 8px 0'}}
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <label className="form-label fw-medium text-light">Monthly Connect</label>
                                                <div className="input-group">
                                                    <span className="input-group-text bg-dark border-secondary text-light">$</span>
                                                    <input
                                                        type="text"
                                                        className="form-control bg-dark border-secondary text-light"
                                                        value={formatNumberInput(monthlyConnect)}
                                                        onChange={(e) => setMonthlyConnect(parseNumberInput(e.target.value))}
                                                        style={{borderRadius: '0 8px 8px 0'}}
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <label className="form-label fw-medium text-light">Team Lunch (USD)</label>
                                                <div className="input-group">
                                                    <span className="input-group-text bg-dark border-secondary text-light">$</span>
                                                    <input
                                                        type="number"
                                                        className="form-control bg-dark border-secondary text-light"
                                                        value={teamLunchUSD}
                                                        onChange={(e) => setTeamLunchUSD(parseInt(e.target.value) || 0)}
                                                        style={{borderRadius: '0 8px 8px 0'}}
                                                    />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                )}
                            </div>

                            {/* Deducciones, RSUs y Primas */}
                            <div className="row g-3">
                                <div className="col-lg-4 col-md-6 col-12">
                                    <div className={`card section-card ${!showInsurance ? 'tab-collapsed seguros-tab' : ''}`} style={{
                                        borderRadius: '16px', 
                                        boxShadow: '0 8px 32px rgba(0, 0, 0, 0.3)',
                                        background: 'linear-gradient(135deg, #2a2a2a 0%, #1e1e1e 100%)',
                                        border: '1px solid #4CAF50'
                                    }}>
                                        <div 
                                            className={`card-header d-flex justify-content-between align-items-center tab-header`}
                                            style={{
                                                cursor: 'pointer',
                                                padding: '18px 20px',
                                                borderBottom: '1px solid #4CAF50',
                                                background: 'linear-gradient(135deg, rgba(76, 175, 80, 0.1) 0%, rgba(76, 175, 80, 0.05) 100%)'
                                            }}
                                            onClick={() => setShowInsurance(!showInsurance)}
                                        >
                                            <h2 className="section-title mb-0" style={{fontSize: '1.2rem', fontWeight: '600', color: '#fff'}}>
                                                <i className="bi bi-shield-check me-3" style={{color: '#4CAF50'}}></i>
                                                Seguros
                                            </h2>
                                            <i className={`bi bi-chevron-${showInsurance ? 'up' : 'down'}`} style={{fontSize: '1.1rem', color: '#4CAF50'}}></i>
                                        </div>
                                        {showInsurance && (
                                            <div className="card-body" style={{padding: '20px'}}>
                                                <div className="mb-3">
                                                    <label className="form-label text-light mb-2" style={{fontSize: '0.9rem', fontWeight: '500'}}>
                                                        <i className="bi bi-heart-pulse me-2 text-success"></i>
                                                        Medicina Prepagada
                                                    </label>
                                                    <input
                                                        type="text"
                                                        className="form-control"
                                                        style={{
                                                            background: '#333',
                                                            border: '1px solid #4CAF50',
                                                            color: '#fff',
                                                            borderRadius: '8px',
                                                            padding: '10px 12px'
                                                        }}
                                                        value={formatNumberInput(medicinaPrepagada)}
                                                        onChange={(e) => setMedicinaPrepagada(parseNumberInput(e.target.value))}
                                                        placeholder="Ej: 150,000"
                                                    />
                                                </div>
                                                <div className="mb-0">
                                                    <label className="form-label text-light mb-2" style={{fontSize: '0.9rem', fontWeight: '500'}}>
                                                        <i className="bi bi-shield-check me-2 text-success"></i>
                                                        Seguro de Vida
                                                    </label>
                                                    <input
                                                        type="text"
                                                        className="form-control"
                                                        style={{
                                                            background: '#333',
                                                            border: '1px solid #4CAF50',
                                                            color: '#fff',
                                                            borderRadius: '8px',
                                                            padding: '10px 12px'
                                                        }}
                                                        value={formatNumberInput(seguroVida)}
                                                        onChange={(e) => setSeguroVida(parseNumberInput(e.target.value))}
                                                        placeholder="Ej: 50,000"
                                                    />
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                </div>
                                <div className="col-lg-4 col-md-6 col-12">
                                    <div className={`card section-card ${!showBonuses ? 'tab-collapsed bonuses-tab' : ''}`} style={{
                                        borderRadius: '16px', 
                                        boxShadow: '0 8px 32px rgba(0, 0, 0, 0.3)',
                                        background: 'linear-gradient(135deg, #2a2a2a 0%, #1e1e1e 100%)',
                                        border: '1px solid #FF9800'
                                    }}>
                                        <div 
                                            className={`card-header d-flex justify-content-between align-items-center tab-header`}
                                            style={{
                                                cursor: 'pointer',
                                                padding: '18px 20px',
                                                borderBottom: '1px solid #FF9800',
                                                background: 'linear-gradient(135deg, rgba(255, 152, 0, 0.1) 0%, rgba(255, 152, 0, 0.05) 100%)'
                                            }}
                                            onClick={() => setShowBonuses(!showBonuses)}
                                        >
                                            <h2 className="section-title mb-0" style={{fontSize: '1.2rem', fontWeight: '600', color: '#fff'}}>
                                                <i className="bi bi-cash-stack me-3" style={{color: '#FF9800'}}></i>
                                                Primas y Cesant√≠as
                                            </h2>
                                            <i className={`bi bi-chevron-${showBonuses ? 'up' : 'down'}`} style={{fontSize: '1.1rem', color: '#FF9800'}}></i>
                                        </div>
                                        {showBonuses && (
                                            <div className="card-body" style={{padding: '20px'}}>
                                                <div className="mb-3">
                                                    <label className="form-label text-light mb-2" style={{fontSize: '0.9rem', fontWeight: '500'}}>
                                                        <i className="bi bi-cash me-2 text-warning"></i>
                                                        Prima Legal
                                                    </label>
                                                    <input
                                                        type="text"
                                                        className="form-control"
                                                        style={{
                                                            background: '#2a2a2a',
                                                            border: '1px solid #FF9800',
                                                            color: '#fff',
                                                            borderRadius: '8px',
                                                            padding: '10px 12px',
                                                            cursor: 'not-allowed'
                                                        }}
                                                        value={formatCurrency(primaCalculada)}
                                                        readOnly
                                                        placeholder="Calculado autom√°ticamente"
                                                    />
                                                </div>
                                                <div className="mb-3">
                                                    <label className="form-label text-light mb-2" style={{fontSize: '0.9rem', fontWeight: '500'}}>
                                                        <i className="bi bi-percent me-2 text-warning"></i>
                                                        Prima Extra (%)
                                                    </label>
                                                    <div className="input-group">
                                                        <input
                                                            type="number"
                                                            className="form-control"
                                                            style={{
                                                                background: '#333',
                                                                border: '1px solid #FF9800',
                                                                color: '#fff',
                                                                borderRadius: '8px 0 0 8px',
                                                                padding: '10px 12px'
                                                            }}
                                                            value={primaExtraPercentage}
                                                            onChange={(e) => setPrimaExtraPercentage(parseFloat(e.target.value) || 0)}
                                                            placeholder="10"
                                                            min="0"
                                                            max="50"
                                                            step="0.5"
                                                        />
                                                        <span className="input-group-text" style={{
                                                            background: '#FF9800',
                                                            border: '1px solid #FF9800',
                                                            color: '#000',
                                                            fontWeight: '600'
                                                        }}>%</span>
                                                    </div>

                                                </div>
                                                <div className="mb-3">
                                                    <label className="form-label text-light mb-2" style={{fontSize: '0.9rem', fontWeight: '500'}}>
                                                        <i className="bi bi-cash-stack me-2 text-warning"></i>
                                                        Prima Extra (Valor)
                                                    </label>
                                                    <input
                                                        type="text"
                                                        className="form-control"
                                                        style={{
                                                            background: '#2a2a2a',
                                                            border: '1px solid #FF9800',
                                                            color: '#fff',
                                                            borderRadius: '8px',
                                                            padding: '10px 12px',
                                                            cursor: 'not-allowed'
                                                        }}
                                                        value={formatCurrency(primaExtraCalculada)}
                                                        readOnly
                                                        placeholder="Calculado autom√°ticamente"
                                                    />
                                                </div>
                                                <div className="mb-0">
                                                    <label className="form-label text-light mb-2" style={{fontSize: '0.9rem', fontWeight: '500'}}>
                                                        <i className="bi bi-percent me-2 text-warning"></i>
                                                        Intereses Cesant√≠as
                                                    </label>
                                                    <input
                                                        type="text"
                                                        className="form-control"
                                                        style={{
                                                            background: '#2a2a2a',
                                                            border: '1px solid #FF9800',
                                                            color: '#fff',
                                                            borderRadius: '8px',
                                                            padding: '10px 12px',
                                                            cursor: 'not-allowed'
                                                        }}
                                                        value={formatCurrency(interesesCesantiasCalculados)}
                                                        readOnly
                                                        placeholder="Calculado autom√°ticamente"
                                                    />
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                </div>
                                <div className="col-lg-4 col-md-12 col-12">
                                    <div className={`card section-card ${!showStocks ? 'tab-collapsed stocks-tab' : ''}`} style={{
                                        borderRadius: '16px', 
                                        boxShadow: '0 8px 32px rgba(0, 0, 0, 0.3)',
                                        background: 'linear-gradient(135deg, #2a2a2a 0%, #1e1e1e 100%)',
                                        border: '1px solid #2196F3'
                                    }}>
                                        <div 
                                            className={`card-header d-flex justify-content-between align-items-center tab-header`}
                                            style={{
                                                cursor: 'pointer',
                                                padding: '18px 20px',
                                                borderBottom: '1px solid #2196F3',
                                                background: 'linear-gradient(135deg, rgba(33, 150, 243, 0.1) 0%, rgba(33, 150, 243, 0.05) 100%)'
                                            }}
                                            onClick={() => setShowStocks(!showStocks)}
                                        >
                                            <h2 className="section-title mb-0" style={{fontSize: '1.2rem', fontWeight: '600', color: '#fff'}}>
                                                <i className="bi bi-graph-up me-3" style={{color: '#2196F3'}}></i>
                                                RSUs y ESPP
                                            </h2>
                                            <i className={`bi bi-chevron-${showStocks ? 'up' : 'down'}`} style={{fontSize: '1.1rem', color: '#2196F3'}}></i>
                                        </div>
                                        {showStocks && (
                                            <div className="card-body" style={{padding: '20px'}}>
                                                <div className="mb-3">
                                                    <label className="form-label text-light mb-2" style={{fontSize: '0.9rem', fontWeight: '500'}}>
                                                        <i className="bi bi-graph-up me-2 text-info"></i>
                                                        Acciones por Trimestre
                                                    </label>
                                                    <input
                                                        type="number"
                                                        className="form-control"
                                                        style={{
                                                            background: '#333',
                                                            border: '1px solid #2196F3',
                                                            color: '#fff',
                                                            borderRadius: '8px',
                                                            padding: '10px 12px'
                                                        }}
                                                        value={accionesTrimestre}
                                                        onChange={(e) => setAccionesTrimestre(parseInt(e.target.value) || 0)}
                                                        placeholder="Ej: 50"
                                                    />
                                                </div>
                                                <div className="mb-0">
                                                    <label className="form-label text-light mb-3" style={{fontSize: '0.9rem', fontWeight: '500'}}>
                                                        <i className="bi bi-percent me-2 text-info"></i>
                                                        ESPP Percentage: {esppPercentage}%
                                                    </label>
                                                    <div style={{
                                                        padding: '16px 20px', 
                                                        background: 'rgba(33, 150, 243, 0.1)', 
                                                        borderRadius: '12px',
                                                        border: '1px solid #2196F3'
                                                    }}>
                                                        <input
                                                            type="range"
                                                            className="form-range"
                                                            style={{
                                                                width: '100%',
                                                                height: '6px',
                                                                background: 'linear-gradient(to right, #2196F3 0%, #2196F3 ' + (esppPercentage/15*100) + '%, #555 ' + (esppPercentage/15*100) + '%, #555 100%)',
                                                                borderRadius: '3px',
                                                                outline: 'none',
                                                                cursor: 'pointer'
                                                            }}
                                                            min="0"
                                                            max="15"
                                                            step="0.5"
                                                            value={esppPercentage}
                                                            onChange={(e) => setEsppPercentage(parseFloat(e.target.value))}
                                                        />
                                                        <div className="d-flex justify-content-between mt-2" style={{fontSize: '0.8rem', color: '#aaa'}}>
                                                            <span>0%</span>
                                                            <span>7.5%</span>
                                                            <span>15%</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            </div>

                            {/* Salario Neto - Secci√≥n Destacada */}
                            <div className="salary-results-container" style={{
                                display: 'flex',
                                flexDirection: 'column',
                                alignItems: 'center',
                                width: '100%',
                                marginBottom: '20px',
                                maxWidth: '100%'
                            }}>
                            {/* Tarjeta de Ingresos Brutos (Azul) */}
                            <div className="net-salary-card" style={{
                                background: 'rgba(30, 30, 30, 0.7)',
                                marginBottom: '15px',
                                borderRadius: '16px',
                                boxShadow: '0 5px 15px rgba(0, 0, 0, 0.2)',
                                border: '1px solid transparent',
                                padding: '15px',
                                width: '100%',
                                maxWidth: '500px',
                                transition: 'border-color 0.3s ease'
                            }} onMouseOver={(e) => {
                                e.currentTarget.style.borderColor = '#2196F3';
                            }} onMouseOut={(e) => {
                                e.currentTarget.style.borderColor = 'transparent';
                            }}>
                                <p className="net-salary-label" style={{fontSize: '1.1rem', fontWeight: '600', marginBottom: '10px', color: '#2196F3'}}>
                                    <i className="bi bi-graph-up-arrow me-2"></i>
                                    Ingresos Brutos Mensuales
                                </p>
                                <p className="net-salary-value" style={{fontSize: '1.8rem', fontWeight: '700', color: '#ffffff'}}>
                                    {formatCurrency(ingresosTotales)}
                                </p>
                            </div>
                            
                            {/* Tarjeta de Deducciones Totales (Rojo) */}
                            <div className="net-salary-card" style={{
                                background: 'rgba(30, 30, 30, 0.7)',
                                marginBottom: '15px',
                                borderRadius: '16px',
                                boxShadow: '0 5px 15px rgba(0, 0, 0, 0.2)',
                                border: '1px solid transparent',
                                padding: '15px',
                                width: '100%',
                                maxWidth: '500px',
                                transition: 'border-color 0.3s ease'
                            }} onMouseOver={(e) => {
                                e.currentTarget.style.borderColor = '#dc3545';
                            }} onMouseOut={(e) => {
                                e.currentTarget.style.borderColor = 'transparent';
                            }}>
                                <p className="net-salary-label" style={{fontSize: '1.1rem', fontWeight: '600', marginBottom: '10px', color: '#dc3545'}}>
                                    <i className="bi bi-graph-down-arrow me-2"></i>
                                    Deducciones Totales Mensuales
                                </p>
                                <p className="net-salary-value" style={{fontSize: '1.8rem', fontWeight: '700', color: '#ffffff'}}>
                                    {formatCurrency(totalDeducciones)}
                                </p>
                            </div>
                            
                            {/* Salario Neto - Secci√≥n Destacada (Verde) */}
                            <div className="net-salary-card" style={{
                                background: 'rgba(30, 30, 30, 0.7)',
                                borderRadius: '16px',
                                boxShadow: '0 5px 15px rgba(0, 0, 0, 0.2)',
                                border: '1px solid transparent',
                                padding: '15px',
                                width: '100%',
                                maxWidth: '500px',
                                transition: 'border-color 0.3s ease'
                            }} onMouseOver={(e) => {
                                e.currentTarget.style.borderColor = '#4CAF50';
                            }} onMouseOut={(e) => {
                                e.currentTarget.style.borderColor = 'transparent';
                            }}>
                                <p className="net-salary-label" style={{fontSize: '1.1rem', fontWeight: '600', marginBottom: '10px', color: '#4CAF50'}}>
                                    <i className="bi bi-cash-coin me-2"></i>
                                    Salario Neto Mensual
                                </p>
                                <p className="net-salary-value" style={{fontSize: '1.8rem', fontWeight: '700', color: '#ffffff'}}>
                                    {formatCurrency(salarioNeto)}
                                </p>
                            </div>
                            </div>
                        </div>

                        <div className="col-lg-8 col-md-10 col-12" style={{display: 'flex', flexDirection: 'column', alignItems: 'center'}}>
                            {/* Resultados Compactos */}
                            <div className="card section-card" style={{
                                borderRadius: '16px', 
                                boxShadow: '0 8px 32px rgba(0, 0, 0, 0.3)',
                                background: 'linear-gradient(135deg, #2a2a2a 0%, #1e1e1e 100%)',
                                border: '1px solid #444',
                                width: '100%',
                                maxWidth: '500px'
                            }}>
                                <div 
                                    className="card-header d-flex justify-content-between align-items-center" 
                                    style={{
                                        cursor: 'pointer',
                                        padding: '20px 24px',
                                        borderBottom: '1px solid #444',
                                        background: 'linear-gradient(135deg, #333 0%, #2a2a2a 100%)'
                                    }}
                                    onClick={() => setShowResults(!showResults)}
                                >
                                    <h2 className="section-title mb-0" style={{fontSize: '1.3rem', fontWeight: '600'}}>
                                        <i className="bi bi-calculator me-3" style={{color: '#4CAF50'}}></i>
                                        Resultados
                                    </h2>
                                    <i className={`bi bi-chevron-${showResults ? 'up' : 'down'}`} style={{fontSize: '1.2rem', color: '#4CAF50'}}></i>
                                </div>
                                {showResults && (
                                    <div className="card-body compact-results" style={{padding: '24px'}}>
                                    {/* Ingresos */}
                                    <div className="result-card result-neutral">
                                        <p className="result-label">Compensaciones Base</p>
                                        <p className="result-value">{formatCurrency(compensacionesTotales)}</p>
                                    </div>

                                    <div className="result-card result-positive">
                                        <p className="result-label">RSUs Mensuales</p>
                                        <p className="result-value text-success">{formatCurrency(rsusMensuales)}</p>
                                    </div>

                                    {esppPercentage > 0 && (
                                        <>
                                            <div className="result-card result-neutral">
                                                <p className="result-label">ESPP Ahorro</p>
                                                <p className="result-value">{formatCurrency(esppAhorroMensual)}</p>
                                            </div>
                                            <div className="result-card result-positive">
                                                <p className="result-label">ESPP Beneficio</p>
                                                <p className="result-value text-success">{formatCurrency(esppBeneficioMensual)}</p>
                                            </div>
                                        </>
                                    )}

                                    <div className="result-card result-positive">
                                        <p className="result-label">Prima Legal</p>
                                        <p className="result-value text-success">{formatCurrency(primaCalculada)}</p>
                                    </div>

                                    <div className="result-card result-positive">
                                        <p className="result-label">Prima Extra</p>
                                        <p className="result-value text-success">{formatCurrency(primaExtraCalculada)}</p>
                                    </div>

                                    <div className="result-card result-positive">
                                        <p className="result-label">Intereses Cesant√≠as</p>
                                        <p className="result-value text-success">{formatCurrency(interesesCesantiasCalculados)}</p>
                                    </div>

                                    <div className="result-card result-positive">
                                        <p className="result-label">Total Ingresos</p>
                                        <p className="result-value text-success">{formatCurrency(ingresosTotales)}</p>
                                    </div>

                                    {/* Deducciones */}
                                    <div className="result-card result-negative">
                                        <p className="result-label">Salud (4%)</p>
                                        <p className="result-value text-danger">-{formatCurrency(saludEmpleado)}</p>
                                    </div>

                                    <div className="result-card result-negative">
                                        <p className="result-label">Pensi√≥n (4%)</p>
                                        <p className="result-value text-danger">-{formatCurrency(pensionEmpleado)}</p>
                                    </div>

                                    {fondoSolidaridad > 0 && (
                                        <div className="result-card result-negative">
                                            <p className="result-label">Fondo Solidaridad ({(fondoSolidaridad/salarioBase*100).toFixed(1)}%)</p>
                                            <p className="result-value text-danger">-{formatCurrency(fondoSolidaridad)}</p>
                                        </div>
                                    )}

                                    <div className="result-card result-negative">
                                        <p className="result-label">Retenci√≥n Fuente</p>
                                        <p className="result-value text-danger">-{formatCurrency(retencionFuente)}</p>
                                    </div>

                                    {/* Informaci√≥n adicional de c√°lculos */}
                                    <div className="result-card result-neutral" style={{marginTop: '10px', borderTop: '1px solid #555'}}>
                                        <p className="result-label">Deducci√≥n 40% Aplicada</p>
                                        <p className="result-value">{formatCurrency(deduccion40Aplicada)}</p>
                                    </div>

                                    <div className="result-card result-neutral">
                                        <p className="result-label">L√≠mite Deducci√≥n 40%</p>
                                        <p className="result-value">{formatCurrency(LIMITE_DEDUCCION_40_MENSUAL)}</p>
                                    </div>

                                    <div className="result-card result-neutral">
                                        <p className="result-label">Renta Gravable</p>
                                        <p className="result-value">{formatCurrency(rentaGravable)}</p>
                                    </div>

                                    <div className="result-card result-neutral">
                                        <p className="result-label">Salario en SMMLV</p>
                                        <p className="result-value">{salarioEnSMMLV.toFixed(1)}x</p>
                                    </div>

                                    <div className="result-card result-negative">
                                        <p className="result-label">Total Deducciones</p>
                                        <p className="result-value text-danger">-{formatCurrency(totalDeducciones)}</p>
                                    </div>
                                </div>
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Renderizar la aplicaci√≥n
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<SalaryCalculator />);
    </script>
</body>
</html>